<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Payment Page</title>
    <link
      rel="icon"
      href="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQTvvExfheGYdXS-c2ltBGvTRbbWxB_PfkIUw&usqp=CAU"
      type="image/x-icon"
    />
    <link rel="stylesheet" href="./style/finalpayment.css" />
    <link rel="stylesheet" href="header.css" />
    <!-- <link rel="stylesheet" href="payment copy.css" /> -->
    <!-- tab icon -->
    <link rel="icon" href="https://www.1mg.com/faviconRebrand.ico" />
    <!-- fontawsome icons -->
    <script
      src="https://kit.fontawesome.com/f7dfcdf24b.js"
      crossorigin="anonymous"
    ></script>
  </head>

  <body>
    <!-- nav-bar -->

    <div class="container">
      <!-- navbar--------- -->
      <nav>
        <div>
          <a href="index.html"
            ><img src="https://www.1mg.com/images/tata_1mg_logo.svg" alt=""
          /></a>
        </div>
        <div>
          <input
            type="text"
            id="search"
            placeholder="Search for Medicines and Health Products"
          />
        </div>
        <div>
          <a href="">
            <p>Need help ?</p>
          </a>
        </div>
      </nav>
      <!-- ----------------- -->

      <div class="middlecont">
        <div class="left">
          <div class="wallet">
            <div class="wallets">
              <div class="imgwal">
                <img
                  src="https://res.cloudinary.com/du8msdgbj/image/upload/q_auto,f_auto/v1530172217/marketing/vvew3rcvwfjrhknifj1z.png"
                  alt=""
                />
              </div>
              <div class="cont-wal">WALLETS</div>
            </div>
            <!-- second -->
            <div class="wallets">
              <div class="imgwal">
                <img
                  src="https://res.cloudinary.com/du8msdgbj/image/upload/q_auto,f_auto/v1581576219/marketing/p0w0w4crcgcthkom8j23.png"
                  alt=""
                />
              </div>
              <div class="cont-wal">UPI</div>
            </div>
            <div class="wallets">
              <div class="imgwal">
                <img
                  src="https://res.cloudinary.com/du8msdgbj/image/upload/q_auto,f_auto/v1530172186/marketing/p45zk16fua8dmxany3up.png"
                  alt=""
                />
              </div>
              <div class="cont-wal">CARDS</div>
            </div>
            <div class="wallets">
              <div class="imgwal">
                <img
                  src="https://res.cloudinary.com/du8msdgbj/image/upload/q_auto,f_auto/v1530172229/marketing/bsnk5fvtd4b6xffsvjdm.png"
                  alt=""
                />
              </div>
              <div class="cont-wal">NET BANKING</div>
            </div>
            <div class="wallets">
              <div class="imgwal">
                <img
                  src="https://res.cloudinary.com/du8msdgbj/image/upload/q_auto,f_auto/v1530172202/marketing/pyzcsicqsnwawi4yrpo7.png"
                  alt=""
                />
              </div>
              <div class="cont-wal">PAY ON DELIVERY</div>
            </div>
          </div>
          <div class="credicard">
            <div class="upper">
              <div class="creditdebit">Credit & Debit Cards</div>
              <div class="addnew" style="color: black">
                Add new Cards For Payment
              </div>
            </div>

            <div class="cardnamee" style="color: black">Card Number</div>
            <div class="cardin">
              <input
                class="all"
                type="number"
                placeholder="XXXXXXXXXXXX"
                id="cardnum"
                maxlength="9"
              />
            </div>
            <div class="expisc">
              <div class="expiry" style="color: black">Expiry Date(MM/YY)</div>
              <div class="securitycode" style="color: black">CVV</div>
            </div>
            <div class="secinp">
              <div class="monthyear"></div>
              <div class="cvv"></div>
            </div>
            <div class="namecard">
              <div id="datediv" style="display: flex; align-items: center">
                <input
                  class="all"
                  type="text"
                  id="month"
                  placeholder="MM"
                  maxlength="2"
                  oninput="this.value=this.value.replace(/[^00-99]/g,'');"
                />
                <p id="slash">/</p>
                <input
                  class="all"
                  type="text"
                  id="year"
                  placeholder="YY"
                  maxlength="2"
                  oninput="this.value=this.value.replace(/[^00-99]/g,'');"
                />
              </div>
              <div class="check" class="all">
                <input
                  class="all"
                  type="text"
                  id="cvv"
                  placeholder="•••"
                  maxlength="3"
                  oninput="this.value=this.value.replace(/[^000-999]/g,'');"
                />
              </div>
            </div>

            <div class="infor">
              Your card details will be saved securely for future transactions,
              based on the industry standards.
            </div>
            <div class="makepayment">
              <div class="paymentmake" onclick="makepayment()">
                MAKE PAYMENT
              </div>
            </div>
          </div>
        </div>

        <!-- checkout -->
        <div class="right" id="righ">
          <div class="checkout">
            <div class="checkoutbut">Payment Summary</div>
            <div class="pament_summary">
              <div>
                <!-- <div id="cartname"> -->
                <div>No. Of Items :</div>
                <div id="item_no">0</div>
              </div>
              <div>
                <div>Order Subtotal :</div>
                <div id="total"></div>
              </div>
              <div>
                <div>Discount :</div>
                <div id="discount">0%</div>
              </div>
              <div>
                <div>Tax (GST) :</div>
                <div>+18%</div>
              </div>
              <div style="border-bottom: 1px solid #d5d9db; margin-bottom: 5px">
                <div>Shipping :</div>
                <div>Free Shipping</div>
              </div>
              <div>
                <div>Order Total :</div>
                <div id="ordertotal">0</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
  <script>
    document.querySelector(".com_logo").addEventListener("click", function () {
      window.location.href = "index.html";
    });
  </script>

  <script src="./script/finalpayment.js"></script>
  <script>
    var cartdata = JSON.parse(localStorage.getItem("data")) || [];

    let quantity = 0;
    let subTotal = 0;
    let DiscountPercent = 0;
    let total = 0;
    for (let i = 0; i < cartdata.length; i++) {
      quantity += cartdata[i].quantity;
      subTotal += cartdata[i].mrp * cartdata[i].quantity;
      total += cartdata[i].price * cartdata[i].quantity;
    }

    let Discount = subTotal - total;
    DiscountPercent = (Discount / subTotal) * 100;

    total = total + total * 0.18;

    function showtotal() {
      document.querySelector("#item_no").innerText = quantity;
      document.querySelector("#total").innerText = "₹" + subTotal;
      document.querySelector("#discount").innerText = `${Math.floor(
        DiscountPercent
      )}%`;
      document.querySelector("#ordertotal").innerText = `₹${Math.floor(total)}`;
    }

    showtotal();
  </script>
</html>
